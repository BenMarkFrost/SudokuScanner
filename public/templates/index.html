<!-- This file was created inside the Bootstrap Studio IDE for this project-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Sudoku</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/assets/css/styles.css">
    <link rel="stylesheet" href="static/assets/css/Team-Grid.css">
    <script type="text/javascript" src="static/js/view.js" defer></script>
    <script type="text/javascript" src="static/js/sendToApi.js" defer></script>
    <script type="text/javascript" src="static/js/video.js" defer></script>
</head>

<body>
    <section class="team-grid">
        <div class="container">
            <div class="intro">
                <h2 class="text-center">SudokuScanner</h2>
                <p class="text-center" style="margin-bottom: 30px;margin-top: 0px;">Point your camera at an unsolved sudoku and see the solution overlayed. <br> The video will be muted and encrypted, then streamed to a server for analysis, after which it will be deleted.</p>
            </div>
            <div style="text-align: center; margin-bottom: 30px;">
                <button hidden class="text-center btn btn-secondary btn-sm" id="metricsDropDownBtn" onclick="toggleMetrics()">Show debug metrics</button>
            </div>
            <div id="metricsDiv" hidden>
                <h4 class="text-center" style="margin-top: 30px;">Metrics</h2>
                <p class="text-center" id="latency"></p>
                <p class="text-center" id="timeTaken"></p>
                <div class="img-fluid d-flex justify-content-center align-items-center align-content-center align-self-center mx-auto">
                    <label class="switch text-center">
                        <p class="form-check-label text-center">Synchronise original with response frame?</p>
                        <input class="form-check-input text-center" type="checkbox" checked onchange="toggleFrameSync(this)">
                    </label>
                </div>
            </div>
        </div>
    </section>
    <div>
        <div class="container" style="margin-bottom: 0px;margin-top: 30px;">
            <div class="row">
                <div class="col-md-12 justify-content-center align-items-center align-content-center align-self-center">
                    <div id="infoDiv" class="img-fluid d-flex justify-content-center align-items-center align-content-center align-self-center mx-auto" style="width: 40em;">
                        <button class="text-center btn btn-primary" id="startBtn" onclick="startStreaming()">Start Video Stream</button> 
                    </div>
                    <div id="streamDiv" class="img-fluid d-flex justify-content-center align-items-center align-content-center align-self-center mx-auto" style="width: 40em;" hidden>
                        <video hidden id="videoInput"></video><canvas hidden id="canvasInput"></canvas>
                        <img id="video" style="max-width:100%; max-height:100%;"/>
                        <img id="image" style="max-width:100%; max-height:100%;"/>
                        <img id="loadingGif" src="static/assets/gif/backtrackingCompressedV1.gif" style="max-width:100%; max-height:100%;" hidden>
                    </div>
                    <p class="text-center" style="text-align: center; margin-top: 30px;" id="gifAttribute" hidden>By Simpsons contributor - Program written in Java, letter images made in Photoshop, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=29034832 <br> Adapted by Benjamin Frost for SudokuScanner Individual Project</p>
                </div>
            </div>
            <div style="text-align: center; margin-top: 30px;" class="img-fluid d-flex justify-content-center align-items-center align-content-center align-self-center">
                <p class="text-center" id="progress"></p>
                <button class="text-center btn btn-success" id="saveBtn" onclick="downloadSolution()" hidden>Save Solution</button>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>
</body>

</html>